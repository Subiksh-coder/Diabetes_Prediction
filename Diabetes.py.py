# -*- coding: utf-8 -*-
"""Copy of Diabetes project.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1lZdF9TB1p-I-rsvmX4mlhbQVbGFfDvfi
"""

import pandas as pd
from sklearn import svm
df=pd.read_csv('https://raw.githubusercontent.com/Subiksh-coder/Diabetes/refs/heads/main/diabetes%20-%20diabetes.csv')
df

y=df['Outcome']
x=df.drop('Outcome',axis=1)

from sklearn.model_selection import train_test_split
x_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.2, stratify=y ,random_state=100)

model=svm.SVC(kernel='linear')
model.fit(x_train,y_train)

"""##TESTING"""

train_model_set=model.predict(x_train)
test_model_set=model.predict(x_test)

from sklearn.metrics import mean_squared_error,accuracy_score
mse_train=mean_squared_error(y_train,train_model_set)
print(accuracy_score(y_train,train_model_set))
mse_test=mean_squared_error(y_test,test_model_set)
print(accuracy_score(y_test,test_model_set))

"""##Predection using user input"""

import numpy as np
data=[]
print("Enter the details")
preg=int(input('Enter the Pregnancies'))
data.append(preg)
glucose=int(input('Enter the Glucose'))
data.append(glucose)
bloodpressure=int(input('Enter the BloodPressure'))
data.append(bloodpressure)
skinthickness=int(input('Enter the SkinThickness'))
data.append(skinthickness)
insulin=float(input('Enter the Insulin'))
data.append(insulin)
bmi=float(input('Enter the BMI'))
data.append(bmi)
DiabetesPedigreeFunction=float(input('Enter the DiabetesPedigreeFunction'))
data.append(DiabetesPedigreeFunction)
age=int(input('Enter the Age'))
data.append(age)

arr=np.asarray(data)
reshaped_arr=arr.reshape(1,-1)
columns = ['Pregnancies','Glucose','BloodPressure','SkinThickness',
           'Insulin','BMI','DiabetesPedigreeFunction','Age']
input_df = pd.DataFrame(reshaped_arr, columns=columns)

prediction = model.predict(input_df)


if prediction[0]==0:
  print('The person is not diabetic')
else:
  print('The person is diabetic')